import re

def count_unique_ips(filename):
  ips = set()
  with open(filename, 'r') as f:
    for line in f:
      ip_match = re.search(r"^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}", line) #Busca valores com essa caracterisca
      if ip_match:
        ip = ip_match.group()
        ips.add(ip)
  return ips, len(open(filename).readlines())

unique_ips, total_count = count_unique_ips('giantLog.txt')

with open('unique_ips.txt', 'w') as f:
  f.writelines(ip + '\n' for ip in unique_ips)

print(f"Total IPs: {total_count}")
print(f"Unique IPs: {len(unique_ips)}")
print(f"Unique IPs saved to: unique_ips.txt (optional)")